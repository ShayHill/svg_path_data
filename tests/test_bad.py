"""Test fixes for values that failed in other projects.

:author: Shay Hill
:created: 2025-11-26
"""


from svg_path_data.svg_data import get_svgd_from_cpts, get_cpts_from_svgd

cpts = [
    (
        (6.083333333333334, 6.083333333333334),
        (6.166666666666667, 6.0),
        (6.333333333333333, 6.0),
        (6.416666666666666, 6.0),
    ),
    ((6.416666666666666, 6.0), (6.5, 6.0), (6.5, 6.0), (6.5, 6.0)),
    ((6.5, 6.0), (6.5, 6.0), (6.5, 6.0), (6.666666666666666, 6.0)),
    (
        (6.666666666666666, 6.0),
        (6.833333333333333, 6.0),
        (7.166666666666667, 6.0),
        (7.333333333333334, 6.0),
    ),
    ((7.333333333333334, 6.0), (7.5, 6.0), (7.5, 6.0), (7.5, 6.0)),
    ((7.5, 6.0), (7.5, 6.0), (7.5, 6.0), (7.583333333333334, 6.0)),
    (
        (7.583333333333334, 6.0),
        (7.666666666666667, 6.0),
        (7.833333333333333, 6.0),
        (7.916666666666666, 6.083333333333334),
    ),
    (
        (7.916666666666666, 6.083333333333334),
        (8.0, 6.166666666666667),
        (8.0, 6.333333333333333),
        (8.0, 6.416666666666666),
    ),
    ((8.0, 6.416666666666666), (8.0, 6.5), (8.0, 6.5), (8.0, 6.5)),
    ((8.0, 6.5), (8.0, 6.5), (8.0, 6.5), (8.0, 6.666666666666666)),
    (
        (8.0, 6.666666666666666),
        (8.0, 6.833333333333333),
        (8.0, 7.166666666666667),
        (8.0, 7.333333333333334),
    ),
    ((8.0, 7.333333333333334), (8.0, 7.5), (8.0, 7.5), (8.0, 7.5)),
    ((8.0, 7.5), (8.0, 7.5), (8.0, 7.5), (8.0, 7.583333333333334)),
    (
        (8.0, 7.583333333333334),
        (8.0, 7.666666666666667),
        (8.0, 7.833333333333333),
        (7.916666666666666, 7.916666666666666),
    ),
    (
        (7.916666666666666, 7.916666666666666),
        (7.833333333333333, 8.0),
        (7.666666666666667, 8.0),
        (7.583333333333334, 8.0),
    ),
    ((7.583333333333334, 8.0), (7.5, 8.0), (7.5, 8.0), (7.5, 8.0)),
    ((7.5, 8.0), (7.5, 8.0), (7.5, 8.0), (7.333333333333334, 8.0)),
    (
        (7.333333333333334, 8.0),
        (7.166666666666667, 8.0),
        (6.833333333333333, 8.0),
        (6.666666666666666, 8.0),
    ),
    ((6.666666666666666, 8.0), (6.5, 8.0), (6.5, 8.0), (6.5, 8.0)),
    ((6.5, 8.0), (6.5, 8.0), (6.5, 8.0), (6.416666666666666, 8.0)),
    (
        (6.416666666666666, 8.0),
        (6.333333333333333, 8.0),
        (6.166666666666667, 8.0),
        (6.083333333333334, 7.916666666666666),
    ),
    (
        (6.083333333333334, 7.916666666666666),
        (6.0, 7.833333333333333),
        (6.0, 7.666666666666667),
        (6.0, 7.583333333333334),
    ),
    ((6.0, 7.583333333333334), (6.0, 7.5), (6.0, 7.5), (6.0, 7.5)),
    ((6.0, 7.5), (6.0, 7.5), (6.0, 7.5), (6.0, 7.333333333333334)),
    (
        (6.0, 7.333333333333334),
        (6.0, 7.166666666666667),
        (6.0, 6.833333333333333),
        (6.0, 6.666666666666666),
    ),
    ((6.0, 6.666666666666666), (6.0, 6.5), (6.0, 6.5), (6.0, 6.5)),
    ((6.0, 6.5), (6.0, 6.5), (6.0, 6.5), (6.0, 6.416666666666666)),
    (
        (6.0, 6.416666666666666),
        (6.0, 6.333333333333333),
        (6.0, 6.166666666666667),
        (6.083333333333334, 6.083333333333334),
    ),
]

def test_closed_path_with_thirds():
    """These points caused an error in another project. The error was related to how
    relative command value strings were relative to the current point, not the string
    values of the current point.
    """
    svgd = get_svgd_from_cpts(cpts, 2)
    cpts_ = get_cpts_from_svgd(svgd)
    assert len(cpts_) == 12
